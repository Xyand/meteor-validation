<head>
  <title>Validation Demo</title>
</head>

<body onload="prettyPrint()">
  {{> demo}}
  {{> forkMe}}
</body>

<template name="demo">
  <div class="container">
    <h1>Validation Demo</h1>

    <p><em>A smart package for validating <a href="http://forms.meteor.com">meteor-forms</a> (and <a href="http://ajaxian.com/archives/return-of-the-pojo-plain-ole-javascript">POJOs</a>)</em></p>

    <div class="tabbable">
      <ul class="nav nav-tabs">
        <li class="active"><a href="#client" data-toggle="tab">Client</a></li>
        <li><a href="#serverAndClient" data-toggle="tab">Server + Client</a></li>
        <li><a href="#withMagic" data-toggle="tab">w/ Magic</a></li>
        <li><a href="#withModels" data-toggle="tab">w/ Models</a></li>
        <li><a href="#withMongoHooks" data-toggle="tab">w/ Mongo Hooks</a></li>
        <li><a href="#withPojos" data-toggle="tab">w/ POJOs</a></li>
      </ul>
      <div class="tab-content span12">
        <div class="tab-pane active" id="client">
          <h2>Client</h2>
          <p>
            Validate on the client <em>only</em> by associating a validator with the form.
          </p>
          <div class="span5">
            {{{clientDemo}}}
          </div>
          <div class="span6">
            <div class="code">
              <div class="label">Client</div>
              <pre class="prettyprint">{{clientCode clientDemo}}</pre>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="serverAndClient">
          <h2>Server + Client</h2>
          <p>
            It's easy to point a form at a <code>Meteor.method</code> and have the validations run on both the client and server. The method you want to submit to is specified by passing a key called <code>method</code> when creating the Form class. You can run validation manually in your <code>Meteor.method</code> by wrapping the form data in a validator and calling it's <code>isValid</code> method.
          </p>
          <div class="span5">
            {{{serverAndClientDemo}}}
          </div>
          <div class="span6">
            <div class="code">
              <div class="label">Server</div>
              <pre class="prettyprint">{{serverCode serverAndClientDemo}}</pre>
            </div>
            <div class="code">
              <div class="label">Common</div>
              <pre class="prettyprint">{{commonCode serverAndClientDemo}}</pre>
            </div>
            <div class="code">
              <div class="label">Client</div>
              <pre class="prettyprint">{{clientCode serverAndClientDemo}}</pre>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="withMagic">
          <h2>w/ Magic</h2>
          <p>
            Adding validation code to <code>Meteor.methods</code> manually is boring and bored developers give up and spend all day on HackerNews (or PintrestÂ¿). If you define your form in a script that loads on both server and client environments the form data will be automatically checked with the appropriate validator before the <code>Meteor.method</code> is called.
          </p>
          <div class="span5">
            {{{withMagicDemo}}}
          </div>
          <div class="span6">
            <div class="code">
              <div class="label">Server</div>
              <pre class="prettyprint">{{serverCode withMagicDemo}}</pre>
            </div>
            <div class="code">
              <div class="label">Common</div>
              <pre class="prettyprint">{{commonCode withMagicDemo}}</pre>
            </div>
            <div class="code">
              <div class="label">Client</div>
              <pre class="prettyprint">{{clientCode withMagicDemo}}</pre>
            </div>
          </div>
        </div>
        <div class="tab-pane" id="withModels">
          <h2>w/ Models</h2>
          <p>
            TODO
          </p>
        </div>
        <div class="tab-pane" id="withMongoHooks">
          <h2>w/ Mongo Hooks</h2>
          <p>
            TODO
          </p>
        </div>
        <div class="tab-pane" id="withPojos">
          <h2>w/ POJOs</h2>
          <p>
            TODO
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="breakAction">
  <button type="submit" class="{{classes}} btn breakAction" name="break">{{label}}</button>
</template>

<template name="forkMe">
  <a href="https://github.com/possibilities/meteor-validation"><img class="forkMe" style="position: absolute; top: 0; right: 0; border: 0;" data-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
</template>
